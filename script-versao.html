<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Script de Vers√£o - SupraMAIS</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

<script src="js/auth.js"></script>
<script>requireAuth();</script>

<div class="app">

  <aside class="sidebar">
    <div class="brand">
      <img src="img/logo.png" alt="SupraMAIS">
      <div class="title">
        <strong>Base do Suporte</strong>
        <span>Procedimentos e checklists</span>
      </div>
    </div>

    <div class="nav">
      <a href="home.html">üè† Home</a>

      <div class="nav-group">
        <h3>Banco de Dados</h3>
        <a class="active" href="script-versao.html">üìÑ Script de Vers√£o</a>
        <a href="profile-sql.html">üß™ SQL Server Profile</a>
      </div>

      <div class="nav-group">
        <h3>Configura√ß√£o de Par√¢metros</h3>
        <a href="replicacao.html">üîÅ Replica√ß√£o de Dados</a>
      </div>
    </div>
  </aside>

  <section class="content">
    <div class="topbar">
      <h1>üìÑ Script de Vers√£o</h1>

      <div class="topbar-actions">
        <span class="badge">Banco de Dados</span>
        <button class="btn-logout" onclick="logout()">Sair</button>
      </div>
    </div>

    <div class="main">

      <div class="section">
        <h2>O que √©</h2>
        <p>
          Scripts de vers√£o s√£o comandos SQL respons√°veis por criar, alterar ou remover estruturas do banco de dados,
          como tabelas, campos, procedures, fun√ß√µes e par√¢metros. Normalmente s√£o numerados sequencialmente.
        </p>
        <div class="callout ok">
          ‚úÖ <strong>Quem cria?</strong> Desenvolvimento.<br>
          ‚úÖ <strong>Como s√£o executados?</strong> Pela atualiza√ß√£o de vers√£o do SupraMAIS.<br>
          ‚úÖ <strong>Onde ficam?</strong> Na pasta <strong>SQL</strong> dentro da pasta <strong>SupraSGC</strong>.
        </div>
      </div>

      <div class="section">
        <h2>Onde ficam</h2>
        <p>
          Os scripts ficam em:
          <strong>SupraSGC\SQL</strong>
        </p>
      </div>

      <div class="section">
        <h2>Como saber em qual script o banco do cliente est√°</h2>
        <ul>
          <li>Acessar o SupraMAIS</li>
          <li>Ir no menu <strong>Ajuda &gt; Sobre</strong></li>
          <li>Verificar a informa√ß√£o de vers√£o/script exibida</li>
        </ul>
      </div>

      <div class="section">
        <h2>Como suspeitar que um script n√£o rodou</h2>
        <ul>
          <li>Erro ao acessar o sistema, uma tela ou um par√¢metro</li>
          <li>Mensagem indicando objeto/campo inexistente</li>
          <li>Erro em relat√≥rio/rotina espec√≠fica</li>
        </ul>

        <div class="callout warn">
          ‚ö†Ô∏è Nem todo script n√£o rodado impede abrir o sistema ‚Äî alguns afetam apenas relat√≥rios ou telas espec√≠ficas.
        </div>
      </div>

      <div class="section">
        <h2>Exemplos de erro</h2>

        <div class="callout warn">
          ‚ö†Ô∏è <strong>Script n√£o rodou, mas pode n√£o afetar acesso</strong><br>
          Ex.: <em>Nome de objeto 'gera_p1_livros_fiscais' inv√°lido.</em><br>
          Normalmente impacta apenas uma rotina/relat√≥rio.
        </div>

        <div class="callout danger">
          ‚ùå <strong>Erro ao acessar tela/par√¢metro por falta de script</strong><br>
          Ex.: <em>Nome de objeto 'parametro_ecs_coloplast' inv√°lido.</em><br>
          Indica campo/objeto inexistente no banco.
        </div>
      </div>

      <div class="section">
        <h2>Checklist r√°pido</h2>
        <ul class="checklist">
          <li>‚òê Capturar a mensagem exata do erro (copiar/print)</li>
          <li>‚òê Confirmar qual banco de dados est√° em uso</li>
          <li>‚òê Verificar vers√£o/script no Ajuda &gt; Sobre</li>
          <li>‚òê Identificar se o erro √© geral (sistema) ou espec√≠fico (tela/relat√≥rio)</li>
          <li>‚òê Verificar se h√° mais de um banco (replica√ß√£o / multi-banco)</li>
        </ul>
      </div>

      <div class="section">
        <h2>Como verificar se algum script n√£o rodou (via TXT)</h2>
        <p>
          Acesse a pasta <strong>SupraSGC</strong> e localize o arquivo <strong>.TXT</strong>
          gerado pela atualiza√ß√£o (normalmente registra informa√ß√µes/execu√ß√µes).
        </p>
        <div class="callout warn">
          ‚ö†Ô∏è Antes de rodar manualmente um script, avalie se pode gerar efeito colateral. Na d√∫vida, pergunte.
        </div>
      </div>

      <div class="section">
        <h2>Como localizar o script/campo respons√°vel (via SQL Server)</h2>
        <p>
          No SSMS, use <strong>Ctrl + F</strong> e pesquise o nome do campo/objeto apontando o ‚ÄúExaminar‚Äù
          para <strong>SupraSGC\SQL</strong>.
        </p>
        <ol>
          <li>Abra o <strong>SQL Server Management Studio</strong></li>
          <li>Pressione <strong>Ctrl + F</strong></li>
          <li>Em <strong>Localizar</strong>, digite o nome do campo/objeto</li>
          <li>Em <strong>Examinar</strong>, selecione a pasta <strong>SupraSGC\SQL</strong></li>
          <li>Clique em <strong>Localizar tudo</strong></li>
          <li>D√™ duplo clique em um resultado para abrir o script</li>
        </ol>

        <div class="callout ok">
          ‚úÖ Dica: nem sempre o script correto √© o de maior n√∫mero. Analise o contexto antes de executar.
        </div>
      </div>

      <div class="section">
        <h2>Cuidados antes de executar script manualmente</h2>
        <ul>
          <li>Verificar se o script depende de outro script anterior</li>
          <li>Confirmar se o banco afetado est√° realmente desatualizado</li>
          <li>Em ambientes com replica√ß√£o/multi-banco, confirmar se todos os bancos foram atualizados</li>
          <li>Se o script altera dados (n√£o s√≥ estrutura), redobrar aten√ß√£o</li>
        </ul>

        <div class="callout warn">
          ‚ö†Ô∏è Em muitos casos, abrir o banco que est√° ‚Äúpara tr√°s‚Äù ap√≥s a atualiza√ß√£o resolve.
          Confirme o cen√°rio antes de tomar a√ß√£o manual.
        </div>
      </div>

    </div>
  </section>

</div>
</body>
</html>
