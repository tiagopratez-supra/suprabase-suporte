<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Suporte SupraMAIS - Backup (Agente)</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

<script src="js/auth.js"></script>
<script>requireAuth();</script>

<div class="app">

<aside class="sidebar">
    <div class="brand">
      <img src="img/logo.png" alt="SupraMAIS">
      <div class="title">
        <strong>Base do Suporte</strong>
        <span>Procedimentos e checklists</span>
      </div>
    </div>

    <div class="nav">
      <a class="" href="home.html">ğŸ  Home</a>

      <div class="nav-group">
        <h3>Banco de Dados</h3>
        <a class="" href="script-versao.html">ğŸ“„ Script de VersÃ£o</a>
        <a class="" href="profile-sql.html">ğŸ§ª SQL Server Profile</a>
      </div>

      <div class="nav-group">
        <h3>ConfiguraÃ§Ã£o de ParÃ¢metros</h3>
        <a class="" href="replicacao.html">ğŸ” ReplicaÃ§Ã£o de Dados</a>
        <a class="" href="configuracao-email.html">ğŸ“§ ConfiguraÃ§Ã£o de E-mail</a>
        <a class="active" href="backup-agente.html">ğŸ—„ï¸ Backup - Agente SupraMAIS</a>
      </div>
    </div>
  </aside>

  <section class="content">

    <div class="topbar">
      <h1>ğŸ—„ï¸ Backup - Agente do SupraMAIS</h1>

      <div class="topbar-actions">
        <span class="badge">SupraMAIS</span>
        <button class="btn-logout" onclick="logout()">Sair</button>
      </div>
    </div>

    <div class="main">

      <div class="section">
        <h2>Conceito</h2>
        <ul>
          <li><strong>O que Ã©?</strong> ServiÃ§o instalado no Windows para realizar o backup dos bancos de dados dos clientes (tambÃ©m utilizado para rotinas automatizadas do SupraMAIS).</li>
          <li><strong>Quem cria?</strong> Ã‰ criado no ato da execuÃ§Ã£o do atualizador de versÃ£o (ideal no mesmo servidor da pasta <code>SupraSGC</code>).</li>
          <li><strong>Onde habilita?</strong> Nos serviÃ§os do Windows.</li>
          <li><strong>Onde ficam?</strong> ServiÃ§os do Windows (iniciar/parar/reiniciar) â€” nome: <strong>Agente do SupraMAIS</strong>.</li>
          <li><strong>Como funciona?</strong> Rotina diÃ¡ria que verifica o horÃ¡rio configurado e executa o backup.</li>
        </ul>

        <h3>O que Ã© preciso para o backup ser realizado?</h3>
        <p>Na pasta <code>SupraSGC</code> deve existir:</p>
        <ul>
          <li><code>SupraMaisServico.exe</code> (executÃ¡vel do serviÃ§o)</li>
          <li><code>dbConn.sup</code> (configurado com o nome dos bancos)</li>
          <li><code>Rar.exe</code> (para compactaÃ§Ã£o do backup)</li>
        </ul>

        <p><img src="img/doc/backup-arquivos.png" alt="Arquivos necessÃ¡rios para o agente de backup (dbConn.sup, Rar.exe, SupraMaisServico.exe)"></p>
      </div>

      <div class="section">
        <h2>Curiosidades sobre o serviÃ§o do agente</h2>
        <ul>
          <li>NÃ£o criar nome das empresas com espaÃ§o. Use <code>_</code> ou <code>-</code> (ex.: <code>empresa_xxx</code> ou <code>empresa-xxx</code>). EspaÃ§os podem afetar a compactaÃ§Ã£o e impedir o backup; se houver mais de uma empresa, se nÃ£o finalizar uma nÃ£o inicia a outra.</li>
          <li>Existe um log que registra o backup e, em alguns casos, o motivo do backup nÃ£o ser feito (arquivo TXT na pasta <code>SupraSGC</code>).</li>
          <li>O agente cria primeiro o <code>.bak</code> (backup), depois compacta para <code>.rar</code> e apaga o <code>.bak</code>.</li>
        </ul>

        <p><img src="img/doc/backup-log.png" alt="Exemplo de log do serviÃ§o do agente"></p>
      </div>
    </div>
  </section>

</div>
</body>
</html>
